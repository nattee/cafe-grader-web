%tr
  %td{:align => "center"}
    = submission.number
  %td.text-right
    = link_to "##{submission.id}", submission_path(submission.id)
  %td
    #{submission.submitted_at.strftime('%Y-%m-%d %H:%M')} 
    %span.text-secondary (#{time_ago_in_words(submission.submitted_at)} ago)
  %td
    = submission.source_filename
    = " (#{submission.language.pretty_name}) "
    = link_to '[load]', download_submission_path(submission)
  %td
    - llm_count = @sub_details[submission.id][:count] || 0
    - llm_cost = @sub_details[submission.id][:cost] || 0
    - if llm_count > 0
      AI Assist: #{llm_count} times with cost #{llm_cost}
  %td
    = render 'submission_short', submission: submission, show_button: false, problem_id: submission&.problem&.id
  %td
    = render :partial => 'compiler_message', :locals => {:compiler_message => submission.compiler_message }
  %td
    = link_to 'Edit', edit_submission_path(submission.id), class: 'btn btn-success'
